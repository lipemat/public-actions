###################################################
# Install the PRO and BASIC plugins.
#
# Secrets must be set in the calling repository.
# - PUBLIC_ACTIONS_PRO_REPO: A personal access token with access to the PRO plugin repository.
#
# Token shared by all 4 plugins.
# https://github.com/settings/personal-access-tokens/3757667
#
# @version 0.0.1
#
###################################################

name: Checkout Plugins
description: Checkout the PRO and BASIC plugins.

runs:
  using: "composite"
  steps:
    - name: Checkout the PRO plugin
      uses: actions/checkout@v4
      with:
        repository: lipemat/${{ inputs.PRO }}
        path: content/plugins/${{ inputs.PRO }}
        token: ${{ secrets.PUBLIC_ACTIONS_PRO_REPO }}
        # Optional - Override the master branch using a GitHub Action variable.
        ref: ${{ vars.PRO_BRANCH }}

    - name: Checkout the basic plugin
      uses: actions/checkout@v4
      with:
        repository: lipemat/${{ inputs.BASIC }}
        path: content/plugins/${{ inputs.BASIC }}
        # Optional - Override the master branch using a GitHub Action variable.
        ref: ${{ vars.BASIC_BRANCH }}
